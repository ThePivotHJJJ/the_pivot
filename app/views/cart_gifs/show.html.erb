<h1 class="text-center">Your Shopping Cart</h1>

<div class="container">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Image</th>
        <th>Title & Description</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Subtotal</th>
      </tr>
    </thead>
    <tbody>
      <% @gifs.each do |gif, quantity| %>
        <div id="gif-info">
          <tr>
            <td><%= image_tag gif.image, width: 80 %></td>
            <td><%= gif.title %>
            <p><%= gif.description %></p></td>
            <td><%= format_price(gif.price) %></td>
            <td>
              <%= quantity %>
              <%= form_tag(cart_path(id: gif.id)) do %>
                <input type="hidden" name="_method" value="patch">

                <p><%= select quantity, (1..15).to_a, quantity: (1..15).to_a %>
              <% end %>
              <p><%= submit_tag "Update Quantity", method: :patch %>
              <p><%= link_to "Remove", cart_path(id: gif.id), method: :delete %></p>
            </td>
            <td><%= format_price(quantity * gif.price) %></td>
          </tr>
        </div>
      <% end %>
      <tr>
        <td colspan=5 align=right>
          Total: <%=  format_price(get_total_price(@gifs)) %></p>
        </td>
      </tr>
    </tbody>
  </table>

</div>
